<!DOCTYPE html>
<html>
<head>
  <title>Track Order | Laundry Booking</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { font-family: 'Poppins', sans-serif; background: #f0f4f8; }
    .track-card {
      max-width: 500px; margin: 50px auto; padding: 30px;
      background: #fff; border-radius: 15px; box-shadow: 0 8px 20px rgba(0,0,0,0.1);
      text-align: center;
    }
    input { margin-bottom: 20px; height: 45px; border-radius: 10px; border: 1px solid #ccc; padding-left: 15px; }
    button { width: 100%; background-color: #4CAF50; color: #fff; font-weight: bold; border: none; border-radius: 10px; height: 50px; font-size: 16px; }
    button:hover { background-color: #45a049; }
    .status { margin-top: 20px; text-align: left; }
  </style>
</head>
<body>

<div class="track-card">
  <h2>Track Your Order</h2>
  <input type="text" id="orderId" placeholder="Enter Order ID" class="form-control">
  <button onclick="trackOrder()">Track Order</button>

  <div id="statusDiv" class="status"></div>
</div>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

<script>
  var firebaseConfig = {
    apiKey: "AIzaSyA2y_ligs_fh3wTiACBCtC2nD-ZHRNGAA4",
    authDomain: "laundrybookingapp-81530.firebaseapp.com",
    databaseURL: "https://laundrybookingapp-81530-default-rtdb.firebaseio.com",
    projectId: "laundrybookingapp-81530",
    storageBucket: "laundrybookingapp-81530.appspot.com",
    messagingSenderId: "939691323210",
    appId: "1:939691323210:web:fb24301c4e338092341bb3"
  };
  firebase.initializeApp(firebaseConfig);

  function trackOrder() {
    var orderId = document.getElementById("orderId").value.trim();
    if(orderId === "") { alert("Please enter Order ID"); return; }

    var statusDiv = document.getElementById("statusDiv");
    statusDiv.innerHTML = "Searching...";

    firebase.database().ref("LaundryBookings").once("value").then(function(snapshot) {
      var found = false;
      snapshot.forEach(function(child) {
        var data = child.val();
        if(data.orderId === orderId) {
          found = true;
          statusDiv.innerHTML = `
            <b>Order ID:</b> ${data.orderId}<br>
            <b>Name:</b> ${data.customerName}<br>
            <b>Phone:</b> ${data.phoneNumber}<br>
            <b>Service:</b> ${data.serviceType}<br>
            <b>Booking Date & Time:</b> ${data.bookingDate} ${data.bookingTime}<br>
            <b>Delivery Date & Time:</b> ${data.deliveryDate} ${data.deliveryTime}<br>
            <b>Status:</b> ${data.deliveryStatus}
          `;
        }
      });
      if(!found) statusDiv.innerHTML = "Order ID not found. Please check again!";
    });
  }
</script>

</body>
</html>